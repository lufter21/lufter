{"version":3,"sources":["global.js","header.js","button.js","image.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"script.js","sourcesContent":["//global variables\r\nvar browser;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n//get useragent\r\ndocument.documentElement.setAttribute('data-useragent', navigator.userAgent);\r\n\r\n//browser identify\r\nbrowser = (function(userAgent) {\r\n\r\n\tuserAgent = userAgent.toLowerCase();\r\n\r\n\tif (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n\t\treturn 'ie';\r\n\t}\r\n\r\n}(navigator.userAgent));\r\n\r\n//add support CustomEvent constructor for IE\r\ntry {\r\n\tnew CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n} catch (e) {\r\n\r\n\twindow.CustomEvent = function(event, params) {\r\n\t\tvar evt;\r\n\r\n\t\tparams = params || {\r\n\t\t\tbubbles: false,\r\n\t\t\tcancelable: false,\r\n\t\t\tdetail: undefined\r\n\t\t};\r\n\r\n\t\tevt = document.createEvent(\"CustomEvent\");\r\n\r\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n\t\treturn evt;\r\n\t}\r\n\r\n\tCustomEvent.prototype = Object.create(window.Event.prototype);\r\n}\r\n\r\n//window Resized Event\r\nvar winResizedEvent = new CustomEvent('winResized');\r\nvar rsz = true;\r\n\r\nwindow.addEventListener('resize', function() {\r\n\r\n\tif (rsz) {\r\n\r\n\t\trsz = false;\r\n\t\tsetTimeout(function() {\r\n\t\t\twindow.dispatchEvent(winResizedEvent);\r\n\t\t\trsz = true;\r\n\t\t}, 1021);\r\n\r\n\t}\r\n\r\n});\r\n\r\n//closest polyfill\r\nif (!Element.prototype.closest) {\r\n\t(function(ElProto) {\r\n\t\tElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\t\tElProto.closest = ElProto.closest || function closest(selector) {\r\n\t\t\tif (!this) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (this.matches(selector)) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tif (!this.parentElement) {\r\n\t\t\t\treturn null;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.parentElement.closest(selector);\r\n\t\t\t}\r\n\t\t};\r\n\t}(Element.prototype));\r\n}\r\n\r\n//check element for hidden\r\nElement.prototype.elementIsHidden = function() {\r\n\r\n\tvar elem = this;\r\n\r\n\twhile (elem) {\r\n\r\n\t\tif (!elem) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tvar compStyles = getComputedStyle(elem);\r\n\r\n\t\tif (compStyles.display == 'none' || compStyles.visibility == 'hidden' || compStyles.opacity == '0') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\telem = elem.parentElement;\r\n\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\n}());",";(function() {\r\n\t\"use strict\";\r\n\r\n\t//fix header\r\n\tvar headerElem = document.querySelector('.header');\r\n\r\n\twindow.addEventListener('scroll', function() {\r\n\t\tif (window.pageYOffset > 21) {\r\n\t\t\theaderElem.classList.add('header_fixed');\r\n\t\t} else if (!document.body.classList.contains('popup-is-opened')) {\r\n\t\t\theaderElem.classList.remove('header_fixed');\r\n\t\t}\r\n\t});\r\n\r\n}());","/*\r\ncall to init:\r\nToggle.init(Str button selector[, Str toggle class, default: 'toggled']);\r\n*/\r\nvar Toggle;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tToggle = {\r\n\t\ttoggledClass: 'toggled',\r\n\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar targetElements = document.querySelectorAll(elem.getAttribute('data-target-elements'));\r\n\r\n\t\t\tif (!targetElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains(this.toggledClass)) {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.remove(this.toggledClass);\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove(this.toggledClass);\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.add(this.toggledClass);\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.add(this.toggledClass);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, toggledClass) {\r\n\t\t\tif (toggledClass) {\r\n\t\t\t\tthis.toggledClass = toggledClass;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());\r\n\r\n\r\n/*$(document).ready(function() {\r\n\r\n\t//Toggle\r\n\t$('body').on('click', '.js-toggle', function() {\r\n\t\tvar _$ = $(this),\r\n\t\ttargetElements = _$.attr('data-target-elements'),\r\n\t\tinitClickOnElements = _$.attr('data-init-click-on-elements');\r\n\r\n\t\tif (initClickOnElements) {\r\n\t\t\t$(initClickOnElements).not(this).click();\r\n\t\t}\r\n\r\n\t\tfunction openMenu(st) {\r\n\t\t\tif (st) {\r\n\t\t\t\tvar pos = $(window).scrollTop();\r\n\t\t\t\t$('body').css('top', -pos).attr('data-position', pos).addClass('is-menu-opened');\r\n\t\t\t} else {\r\n\t\t\t\t$('body').removeClass('is-menu-opened').removeAttr('style');\r\n\t\t\t\t$('html,body').scrollTop($('body').attr('data-position'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction actElements(st) {\r\n\t\t\tif (targetElements) {\r\n\r\n\t\t\t\tvar $elem = $(targetElements),\r\n\t\t\t\trole = _$.attr('data-role');\r\n\r\n\t\t\t\tif (st) {\r\n\t\t\t\t\t$elem.addClass(this.toggledClass);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$elem.removeClass(this.toggledClass);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (role && role == 'menu') {\r\n\t\t\t\t\topenMenu(st);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (!_$.hasClass(this.toggledClass)) {\r\n\t\t\tactElements(1);\r\n\t\t\t_$.addClass(this.toggledClass);\r\n\t\t\tvar secTxt = _$.attr('data-second-button-text');\r\n\t\t\tif (secTxt) {\r\n\t\t\t\tif (!_$.attr('data-first-button-text')) {\r\n\t\t\t\t\t_$.attr('data-first-button-text', _$.html());\r\n\t\t\t\t}\r\n\t\t\t\t_$.html(secTxt);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tactElements(0);\r\n\t\t\t_$.removeClass(this.toggledClass);\r\n\t\t\tvar fstTxt = _$.attr('data-first-button-text');\r\n\t\t\tif (fstTxt) {\r\n\t\t\t\t_$.html(fstTxt);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\treturn false;\r\n\t});\r\n\r\n});*/","var flexImg, CoverImg;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//flexible image\r\n\tflexImg = function(elementsStr) {\r\n\r\n\t\tfunction load(elem) {\r\n\r\n\t\t\tif (!elem.hasAttribute('data-images')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar images = elem.getAttribute('data-images').split(',');\r\n\r\n\t\t\timages.forEach(function(image) {\r\n\r\n\t\t\t\tvar imageProp = image.split('->');\r\n\r\n\t\t\t\tif (window.innerWidth < (+imageProp[0])) {\r\n\t\t\t\t\telem.src = imageProp[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t//init\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tif (elements.length) {\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tload(elements[i]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//cover image\r\n\tCoverImg = {\r\n\r\n\t\tcover: function(e) {\r\n\t\t\tvar img = e.currentTarget,\r\n\t\t\timgWrap = img.closest('.cover-img-wrap'),\r\n\t\t\timgProportion = img.offsetWidth/img.offsetHeight,\r\n\t\t\timgWrapProportion = imgWrap.offsetWidth/imgWrap.offsetHeight;\r\n\r\n\t\t\tif (imgWrapProportion != Infinity && imgWrapProportion < 21) {\r\n\r\n\t\t\t\tif (imgProportion <= imgWrapProportion) {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetWidth / imgProportion - imgWrap.offsetHeight) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t\t\timg.style.marginTop = margin +'px';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetHeight * imgProportion - imgWrap.offsetWidth) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_h');\r\n\t\t\t\t\timg.style.marginLeft = margin +'px';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\treInit: function(parentElementStr) {\r\n\r\n\t\t\tvar elements;\r\n\r\n\t\t\tif (parentElementStr) {\r\n\r\n\t\t\t\tif ((typeof parentElementStr) == 'object') {\r\n\t\t\t\t\telements = parentElementStr.querySelectorAll('.cover-img');\r\n\t\t\t\t} else {\r\n\t\t\t\t\telements = document.querySelectorAll(parentElementStr +' .cover-img');\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\telements = document.querySelectorAll('.cover-img');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar img = elements[i];\r\n\r\n\t\t\t\timg.classList.remove('cover-img_w');\r\n\t\t\t\timg.classList.remove('cover-img_h');\r\n\t\t\t\timg.style.marginTop = '';\r\n\t\t\t\timg.style.marginLeft = '';\r\n\t\t\t\timg.src = (browser == 'ie') ? (img.src +'?'+ new Date().getTime()) : img.src;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(parentElementStr) {\r\n\t\t\tvar elements = (parentElementStr) ? document.querySelectorAll(parentElementStr +' .cover-img, '+ parentElementStr +' .cover-img-wrap') : document.querySelectorAll('.cover-img, .cover-img-wrap');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\timg;\r\n\r\n\t\t\t\tif (elem.classList.contains('cover-img-wrap')) {\r\n\r\n\t\t\t\t\timg = elem.querySelector('img');\r\n\r\n\t\t\t\t\timg.classList.add('cover-img');\r\n\r\n\t\t\t\t} else if (elem.classList.contains('cover-img')) {\r\n\r\n\t\t\t\t\timg = elem;\r\n\r\n\t\t\t\t\timg.parentElement.classList.add('cover-img-wrap');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!img.hasAttribute('data-event')) {\r\n\r\n\t\t\t\t\timg.addEventListener('load', this.cover);\r\n\r\n\t\t\t\t\timg.setAttribute('data-event', 'true');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (browser == 'ie') {\r\n\t\t\t\t\timg.src = img.src +'?'+ new Date().getTime();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}());"]}